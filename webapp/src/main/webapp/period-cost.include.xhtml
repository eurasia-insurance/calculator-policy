<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:comp="http://xmlns.jcp.org/jsf/composite"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:lf="http://lapsa.com/lapsafaces">

	<c:set var="per" value="#{policy.value.period}" />

	<p:panelGrid>
		<p:row>
			<p:column>
				<h:panelGrid columns="2">
					<p:outputLabel for="periodFrom" value="Начало действия" />
					<p:outputLabel for="periodTo" value="Окончание действия" />
					<lf:inputLocalDate id="periodFrom" value="#{per.from}"
						process="@this" update="@form"
						changedListener="#{actionFacade.onPolicyCostCalculationFormChanged}" />
					<lf:inputLocalDate id="periodTo" value="#{per.to}" process="@this"
						update="@form"
						changedListener="#{actionFacade.onPolicyCostCalculationFormChanged}" />
					<p:message for="periodFrom:value" />
					<p:message for="periodTo:value" />
				</h:panelGrid>
			</p:column>
			<p:column>
				<h:panelGrid columns="3">
					<p:commandButton value="На 1 год"
						action="#{actionFacade.doPeriodYear}" process="@this"
						update="@form" />
					<p:commandButton value="На пол-года"
						action="#{actionFacade.doPeriodMonth(6)}" process="@this"
						update="@form" />
					<p:commandButton value="На 1 месяц"
						action="#{actionFacade.doPeriodMonth(1)}" process="@this"
						update="@form" />
				</h:panelGrid>
			</p:column>
		</p:row>
	</p:panelGrid>

</ui:composition>